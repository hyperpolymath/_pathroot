--  SPDX-License-Identifier: AGPL-3.0-or-later
--  Copyright (C) 2025 Hyper Polymath

project Symlink_Manager is

   for Library_Name use "symlink_manager";
   for Library_Version use "0.1.0";
   for Library_Kind use "static";

   for Source_Dirs use ("src");
   for Object_Dir use "obj";
   for Library_Dir use "lib";

   type Build_Mode_Type is ("release", "debug");
   Build_Mode : Build_Mode_Type :=
     external ("SYMLINK_MANAGER_BUILD_MODE", "release");

   package Compiler is
      Common_Switches := ("-gnatwa", "-gnatVa", "-gnatQ", "-gnat2022");

      case Build_Mode is
         when "release" =>
            for Default_Switches ("Ada") use Common_Switches & ("-O2", "-gnatn");
         when "debug" =>
            for Default_Switches ("Ada") use Common_Switches & ("-g", "-O0", "-gnata");
      end case;
   end Compiler;

end Symlink_Manager;
